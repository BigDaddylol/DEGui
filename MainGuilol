import DiscordJS, { Intents } from 'discord.js'
import dotenv from 'dotenv'
dotenv.config()

const scriptkey = "8ZNqkL7k7TnQLBgt9EnR"

const client = new DiscordJS.Client({
    intents: [
      Intents.FLAGS.GUILDS,
      Intents.FLAGS.GUILD_MESSAGES,
      Intents.FLAGS.GUILD_MESSAGE_REACTIONS,
    ],
  })

client.on('ready', () => {
  console.log('The bot is ready!')

  const guildId = '895077048442298408' // Use your guild ID instead
  const guild = client.guilds.cache.get(guildId)
  let commands
  if (guild) {
    commands = guild.commands
  } else {
    commands = client.application?.commands
  }

  commands?.create({
    name: 'key',
    description: 'Obtain the key for Pure Hub',
  })

  commands?.create({
    name: 'script',
    description: 'If you use this, you are retarded.',
  })

  commands?.create({
    name: 'bruh',
    description: 'bruh',
  })
})

client.on('interactionCreate', async (interaction) => {
  if (!interaction.isCommand()) {
    return
  }
  const { commandName, options } = interaction
  
  const exampleEmbed = {
    type: "rich",
    title: 'Key -',
    description: '``` ' + scriptkey + ' ```',
    color: 0xed0000,
      fields: [
        {
          name: `Please acknowledge -`,
          value: `DON'T COPY THE SPACES! If you are suspected of sharing this key with anyone, you will be permanently banned from the discord server.\n\nIf you are also suspected of trying to bypass the key system, you will be permanently banned as well.`,
          inline: true
        }
      ]
  };

  const retardEmbed = {
    type: "rich",
    title: 'You are very dumb.',
    description: 'Like how could you be this dumb.',
    color: 0xed0000,
      fields: [
        {
          name: `Come on. You are so retarded. Can you even read?`,
          value: `I am getting so sick and tired of retards like you doing this. Literally read. That's all you have to do. If you would have read, you would have seen the channel <#895124430202740816> where guess what? The script is in.`,
          inline: true
        }
      ]
  };

  if (commandName === 'key') {
    interaction.reply({
      embeds: [exampleEmbed],
      ephemeral: true,
    })
  }

  if (commandName === 'script') {
    interaction.reply({
      embeds: [retardEmbed],
      ephemeral: false,
    })
  }

  if (commandName === 'bruh') {
    interaction.reply('bruh')
  }
})

client.login(process.env.TOKEN)
